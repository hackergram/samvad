<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8"><meta name="description" content="">
    <title>Samvad</title>



    <!-- Bootstrap core CSS
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">-->

    <!-- Custom styles for this template -->
   <link rel="stylesheet" href="dist/css/mdi-icons.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://rawgit.com/tempusdominus/bootstrap-4/master/build/css/tempusdominus-bootstrap-4.css" />
     <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.2.7/css/select.dataTables.min.css">
    <link rel="stylesheet" type="text/css" src="assets/css/select.bootstrap4.min.css">
    <link rel="stylesheet" type="text/css" src="assets/css/responsive.dataTables.min.css">
    <link type="text/css" href="//gyrocode.github.io/jquery-datatables-checkboxes/1.2.11/css/dataTables.checkboxes.css" rel="stylesheet" />


    <style>
        .row {
            padding: .25em;
        }

        .card .card-body {

            padding: 0.5rem 5px;
            position: relative;

        }
    </style>
    <link href="dist/css/pagination-style.css" rel="stylesheet">





</head>
<body>
    <!--
    <script src="dist/js/jquery.min.js"></script>
    <script src="dist/js/popper.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>
    -->
    <script src="dist/js/vue.min.js"></script>
    <script src="dist/js/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src=" https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script type="text/javascript" src="https://rawgit.com/tempusdominus/bootstrap-4/master/build/js/tempusdominus-bootstrap-4.js"></script>
    <script type="text/javascript" src="https://gyrocode.github.io/jquery-datatables-checkboxes/1.2.11/js/dataTables.checkboxes.min.js"></script>


        <div class="container">
            <div class="row">
                <div class="page-header clearfix">
                    <div class="col-sm-12 small-cols" id="header">
                    <h1 class="medium-bold-title">Samvad - Sandesh</h1>

                    <span></span>
                </div>
                </div>
            </div>
            <div class="row">
                        <div class="col-sm-4 small-cols date-picker-wrap">
                            <div class="form-group">
                                <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
                                    <input type="text" id="date_frm" class="form-control datetimepicker-input" placeholder="Date From" data-target="#datetimepicker1">
                                    <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
                                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4 small-cols date-picker-wrap">
                            <div class="form-group">
                                <div class="input-group date" id="datetimepicker2" data-target-input="nearest">
                                    <input type="text" id="date_to" class="form-control datetimepicker-input" placeholder="Date To" data-target="#datetimepicker2">
                                    <div class="input-group-append" data-target="#datetimepicker2" data-toggle="datetimepicker">

                                    <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <button class="btn btn-sm btn-outline-secondary" onclick="searchAssignments()">Search</button>
                            </div>


                        </div>

                        <div class="col-sm-4 small-cols date-picker-wrap">
                            <div class="form-group">
                                <select class="form-control" id="samvad">
                                     <option value="all">ALL</option>
                                </select>
                            </div>
                        </div>
                    </div>
            <div class="row">

                <div class="col-lg-12">

                      <main role="main" id="pagination-app">

                                <div class="container" v-cloak>
                                  <div class="row">
                                      <div class="col-sm-4 small-cols">
                                           <p class="text-right">Sort By: </p >
                                       </div>
                                       <div class="col-sm-4 small-cols">
                                           <select id="assign_sort" name="assign_sort" class="form-control" onchange="sortAssignments()">
                                               <option value="created_timestamp">Created Time</option>
                               visibility: hidden;
                                           </select>
                                       </div>
                                      <div class="col-sm-4 small-cols">
                                           <select id="assign_order" name="assign_order" class="form-control" onchange="sortAssignments()">
                                               <option value="ascending" selected="selected">Ascending</option>
                                               <option value="descending">Descending</option>
                                           </select>
                                       </div>
                                  </div>
                                  <div class="row">
                                      <div class="col-md-12" v-for="post in displayedPosts">
                                        <div class="card mb-4 box-shadow post-cards">
                                          <div class="card-header">
                                              <h4 class="card-title">{{post.sender}}</h4>
                                              <b>Retrieved: </b>  {{moment(post.updated_timestamp.$date).format('MMM DD YYYY, h:mm:ss a')}}
                                              <b>Created: </b> {{moment(post.created_timestamp.$date).format('MMM DD YYYY, h:mm:ss a')}}
                                          </div>
                                          <div class="card-body">
                                            <div class="container">
                                              <div class="row">
                                                <div class="col-lg-12">
                                                    {{post.sandesh}}
                                                </div>
                                              </div>
                                              <div class="row" v-if="post.hasOwnProperty('url')">
                                                <div class="col-lg-12">
                                                  <img v-bind:src="post.url" height="300px">
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                  </div>

                                  <div class="clearfix btn-group col-md-2 offset-md-5">
                                  <button type="button" class="btn btn-sm btn-outline-secondary" v-if="page != 1" @click="page--"> << </button>
                                  <button type="button" class="btn btn-sm btn-outline-secondary" v-for="pageNumber in pages.slice(page-1, page+5)" @click="page = pageNumber"> {{pageNumber}} </button>
                                  <button type="button" @click="page++" v-if="page < pages.length" class="btn btn-sm btn-outline-secondary"> >> </button>
                                </div>

                                </div>

                      </main>

                </div>



            </div>

        </div>

    <script>
        var serverip="192.168.56.101"
        var assignments=[]
        var assperpage=2
        var sort_field="created_timestamp"
        var sort_order="ascending"
        var searchAssignments=function(){
                search_query={}
                search_query.date_frm=$("#date_frm").val()
                search_query.date_to=$("#date_to").val()
              //  search_query.cust_id=$("#cust_id").val()
              //  search_query.status=$("#status").val()

                console.log(search_query)
                paginationApp.getPosts()

        }
          var sortAssignments=function(){
            sort_order=$("#assign_order").val()
            sort_field=$("#assign_sort").val()
            console.log("Re-getting assignments")
            paginationApp.getPosts()
        }
        var toggleassignment=function(assid){
              var eventsrc = $("#"+assid+"-checked")
            console.log(eventsrc[0].checked, assid)
            if(eventsrc[0].checked===true){
                addassignment(assid)
            }else{
                removeassignment(assid)

            }
        }

    </script>
    <script src="dist/js/pagination.js"></script>
    <script>
        $('#datetimepicker1').datetimepicker({format: 'YYYY-MM-DD HH:mm:ss'});
        $('#datetimepicker2').datetimepicker({format: 'YYYY-MM-DD HH:mm:ss'});
        $('#datetimepicker3').datetimepicker({format: 'YYYY-MM-DD HH:mm:ss'});
    </script>
</body>
</html>
